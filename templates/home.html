{% extends "base.html" %}

{% block content %}


{% comment %} Add icon {% endcomment %}

{% load static %}
<link href="{% static "test_app/style.css" %}" rel="stylesheet" type="text/css">

{% if not valid_file and file_loaded %}
{% comment %} If the file isn't valid, tell the user {% endcomment %}
<font size="3" color="red">Invalid file type</font>
{% endif %}

<div class="wrapper">
    <div class="control" id="control" style="overflow:auto;">
        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'Home')" id="defaultTabOpen">Home</button>
            <button class="tablinks" onclick="openTab(event, 'Align')">Align</button>
            <button class="tablinks" onclick="openTab(event, 'Register')">Register</button>
            <button class="tablinks" onclick="openTab(event, 'Analyse')">Analyse</button>
            <button class="tablinks" onclick="openTab(event, 'Settings')">Settings</button>
        </div>


         <div id="Home" class="tabcontent">

        </div>

        <div id="Align" class="tabcontent">
            <div class="controlOptionLineContainer">
                Static: <select class="targetDropdown" id="alignStaticDropdown" onchange="updateDropdown()"></select>
                <input type="color" class="targetColour" id="alignStaticColour" value="#ff0000">
                <input type="range" class="targetOpacity" id="alignStaticOpacity" value="50" min="0" max="100">
            </div>
            <div class="controlOptionLineContainer">
                Moving: <select class="targetDropdown" id="alignMovingDropdown" onchange="updateDropdown()"></select>
                <input type="color" class="targetColour" id="alignMovingColour" value="#0000ff">
                <input type="range" class="targetOpacity" id="alignMovingOpacity" value="50" min="0" max="100">
            </div>
            <div class="controlOptionLineContainer" id="rotationContainer">

            </div>
            <div class="controlOptionLineContainer">
                <button onclick="runICP()" id="runICPButton">Run ICP</button>
            </div>
        </div>

        <div id="Register" class="tabcontent">
            <div class="controlOptionLineContainer">
                Baseline: <select class="targetDropdown" id="registerBaselineDropdown"></select>
            </div>
            <div class="controlOptionLineContainer">
                Target: <select class="targetDropdown" id="registerTargetDropdown"></select>
            </div>
            <div class="controlOptionLineContainer">
                <button onclick="runRegistration()" id="runRegistrationButton">Run Registration</button>
            </div>

        </div>

        <div id="Analyse" class="tabcontent">
            <div class="controlOptionLineContainer">
                Target: <select class="targetDropdown" id="analyseTargetDropdown"></select>
            </div>
        </div>

        <div id="Settings" class="tabcontent">
            Norms: <input type="checkbox" id="normsTickbox" onclick="normsChange()">
        </div>
    </div>

    <div class="obj-manager" id="obj-manager" style="overflow-x:auto;overflow-y:auto;">
        <table id="objTable">
            <tr>
                <th>Name</th>
                <th>Show</th>
                <th>Type</th>
            </tr>
        </table>
    </div>

    <div class="viewer" id="viewer">
        <script type="text/javascript" src="https://unpkg.com/@babel/polyfill@7.0.0/dist/polyfill.js"></script>
        <script type="text/javascript" src="https://unpkg.com/vtk.js"></script>
        <script src="obj_viewer.js" type="text/javascript"></script>

    </div>
</div>

{% endblock content %}